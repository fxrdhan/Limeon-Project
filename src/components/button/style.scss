@import 'tailwindcss' reference;

// SCSS Mixins for Better Composition
@mixin button-base() {
  @apply cursor-pointer font-medium rounded-lg transition-all duration-300 ease-in-out;
  @apply disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden;

  &:not(.button--glow):not(:disabled):hover {
    opacity: 0.8;
  }
}

@mixin button-glow-effect($color-var) {
  &:not(:disabled):hover,
  &:not(:disabled):focus {
    box-shadow:
      0 0 5px var($color-var),
      0 0 15px var($color-var),
      0 0 30px var($color-var);
  }
}

// BEM Button Component
.button {
  @include button-base();

  // Size modifiers
  &--sm {
    @apply px-3 py-1.5 text-sm;
  }

  &--md {
    @apply px-4 py-2;
  }

  &--lg {
    @apply px-6 py-3 text-lg;
  }

  // Variant modifiers
  &--primary {
    @apply text-white shadow-md ring-0 outline-hidden flex items-center hover:text-white;
    background-color: var(--color-primary);
  }

  &--secondary {
    @apply text-white ring-0 outline-hidden flex items-center hover:text-white;
    background-color: var(--color-secondary);
  }

  &--text {
    @apply text-slate-500;

    &:not(:disabled):hover {
      @apply text-black;
    }

    &.button--underline:not(:disabled):hover {
      @apply underline underline-offset-2 decoration-2;
    }
  }

  &--danger {
    @apply text-white shadow-md ring-0 outline-hidden flex items-center hover:text-white;
    background-color: var(--color-danger);

    &:not(:disabled):hover {
      opacity: 0.5 !important;
    }
  }

  &--text-danger {
    @apply outline-hidden;
    color: var(--color-danger);
    opacity: 0.8;

    &:not(:disabled):hover {
      @apply bg-red-200;
      opacity: 1 !important;
    }
  }

  // State modifiers
  &--fullwidth {
    @apply w-full;
  }

  &--glow {
    &.button--primary {
      @include button-glow-effect(--color-primary);
    }

    &.button--secondary {
      @include button-glow-effect(--color-secondary);
    }

    &.button--danger,
    &.button--text-danger {
      @include button-glow-effect(--color-danger);
    }
  }
}

// Loading spinner element
.button__spinner {
  @apply flex items-center justify-center;
}
