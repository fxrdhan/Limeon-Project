@import 'tailwindcss' reference;

// SCSS Mixins for Better Composition
@mixin calendar-container() {
  @apply bg-white rounded-xl border border-slate-200 p-4 shadow-xl;
}

@mixin calendar-button-base() {
  @apply rounded-lg transition-colors shrink-0 cursor-pointer focus:outline-hidden;
}

@mixin calendar-navigation-button() {
  @include calendar-button-base();
  @apply p-3 rounded-full;

  &:hover {
    @apply bg-slate-100;
  }
}

// Single-purpose mixins for better composition
@mixin calendar-day-base() {
  @include calendar-button-base();
  @apply py-2 px-2 text-sm text-slate-700;
  min-width: 32px;
  min-height: 32px;

  &:hover {
    @apply bg-emerald-50;
  }
}

@mixin calendar-day-disabled() {
  @apply text-slate-300 cursor-not-allowed;

  &:hover {
    @apply bg-transparent; // Override base hover
  }
}

// Calendar Component Styles
.calendar {
  // Container element with modifiers
  &__container {
    @include calendar-container();

    // Display variant modifiers
    &--inline {
      // No additional styles needed, base styles from mixin
    }

    &--portal {
      @apply transition-all duration-150 ease-out;
    }

    // State modifiers (can be combined with --portal)
    &--closing,
    &--opening {
      @apply opacity-0 scale-95;
    }

    &--open {
      @apply opacity-100 scale-100;
    }

    // Position modifiers (can be combined with --portal)
    &--drop-down {
      @apply origin-top shadow-xl;
    }

    &--drop-up {
      @apply origin-bottom;
      box-shadow:
        0 -20px 25px -5px rgba(0, 0, 0, 0.1),
        0 -10px 10px -5px rgba(0, 0, 0, 0.04);
    }
  }

  // Button components
  &__button {
    &-wrapper {
      @apply w-full;
    }

    &-label {
      @apply block text-sm font-medium text-slate-700 mb-1;
    }

    &-input {
      &-wrapper {
        @apply relative;
      }

      @apply cursor-pointer;
    }
  }

  // Header section
  &__header {
    @apply flex items-center justify-between mb-1 gap-2 pl-2;

    &-controls {
      @apply flex items-center gap-4;
    }

    &-navigation {
      @apply flex items-center;
    }
  }

  &__nav-button {
    @include calendar-navigation-button();
  }

  // Days grid
  &__days-grid {
    @apply grid grid-cols-7 gap-1 text-center text-sm;

    &--animated {
      @apply grid grid-cols-7 gap-1 text-center text-sm m-1;
    }

    &--static {
      @apply grid grid-cols-7 gap-1 text-center text-sm;
    }
  }

  // Day elements with clean BEM structure
  &__day {
    &-label {
      @apply font-medium text-slate-500 py-2 px-1;
    }

    &-empty {
      @apply py-2 px-2;
    }

    // Day button with state modifiers
    &-button {
      @include calendar-day-base();

      // State modifiers (additive, not overriding)
      &--selected {
        @apply text-white font-semibold;
        background-color: var(--color-primary);

        &:hover {
          @apply ring-2 ring-emerald-200;
          color: var(--color-primary);
        }
      }

      &--highlighted {
        @apply bg-emerald-50 ring-2 ring-emerald-200;
      }

      &--today {
        @apply text-white font-semibold;
        background-color: var(--color-primary);

        &:hover {
          @apply ring-2 ring-emerald-200;
          color: var(--color-primary);
        }
      }

      &--disabled {
        @include calendar-day-disabled();
      }
    }
  }

  // Animation containers
  &__animation {
    &-container {
      @apply text-center text-sm;
    }

    &-header {
      @apply grid grid-cols-7 gap-1 text-center text-sm mb-1;
    }

    &-content {
      @apply relative overflow-hidden px-1 pb-1;
    }

    &-grid {
      @apply w-full;
    }
  }

  // Custom trigger wrapper
  &__custom-trigger {
    @apply focus:outline-hidden;
    outline: none;
  }
}
