@import 'tailwindcss' reference;

// SCSS Mixins for Better Composition
@mixin calendar-container() {
  @apply bg-white rounded-xl border border-gray-200 p-4 shadow-xl;
}

@mixin calendar-button-base() {
  @apply rounded-lg transition-colors flex-shrink-0 cursor-pointer focus:outline-hidden;
}

@mixin calendar-navigation-button() {
  @include calendar-button-base();
  @apply p-3 rounded-full;

  &:hover {
    @apply bg-gray-100;
  }
}

@mixin calendar-day-button(
  $selected: false,
  $highlighted: false,
  $today: false,
  $disabled: false
) {
  @include calendar-button-base();
  @apply py-2 px-2 text-sm;
  min-width: 32px;
  min-height: 32px;

  @if $disabled {
    @apply text-gray-300 cursor-not-allowed;
  } @else {
    @apply text-gray-700;

    &:hover {
      @apply bg-emerald-50;
    }

    @if $selected {
      @apply text-white font-semibold;
      background-color: var(
        --color-primary
      ); // Use Tailwind v4 CSS custom property

      &:hover {
        @apply ring-2 ring-emerald-200;
        color: var(--color-primary); // Use Tailwind v4 CSS custom property
      }
    } @else if $highlighted {
      @apply bg-emerald-50 ring-2 ring-emerald-200;
    } @else if $today {
      @apply ring ring-emerald-200;
      color: var(--color-primary); // Use Tailwind v4 CSS custom property
    }
  }
}

// Calendar Component Styles
.calendar {
  // Container element with modifiers
  &__container {
    @include calendar-container();

    // Display variant modifiers
    &--inline {
      // No additional styles needed, base styles from mixin
    }

    &--portal {
      @apply transition-all duration-150 ease-out;
    }

    // State modifiers (can be combined with --portal)
    &--closing,
    &--opening {
      @apply opacity-0 scale-95;
    }

    &--open {
      @apply opacity-100 scale-100;
    }

    // Position modifiers (can be combined with --portal)
    &--drop-down {
      @apply origin-top shadow-xl;
    }

    &--drop-up {
      @apply origin-bottom;
      box-shadow:
        0 -20px 25px -5px rgba(0, 0, 0, 0.1),
        0 -10px 10px -5px rgba(0, 0, 0, 0.04);
    }
  }

  // Button components
  &-button {
    &-wrapper {
      @apply w-full;
    }

    &-label {
      @apply block text-sm font-medium text-gray-700 mb-1;
    }

    &-input {
      &-wrapper {
        @apply relative;
      }

      @apply cursor-pointer;
    }
  }

  // Header section
  &-header {
    @apply flex items-center justify-between mb-1 gap-2 pl-2;

    &-controls {
      @apply flex items-center gap-4;
    }

    &-navigation {
      @apply flex items-center;
    }
  }

  &-nav-button {
    @include calendar-navigation-button();
  }

  // Days grid
  &-days-grid {
    @apply grid grid-cols-7 gap-1 text-center text-sm;

    &-animated {
      @extend .calendar-days-grid;
      @apply m-1;
    }

    &-static {
      @extend .calendar-days-grid;
    }
  }

  &-day {
    &-label {
      @apply font-medium text-gray-500 py-2 px-1;
    }

    &-empty {
      @apply py-2 px-2;
    }

    // Day button variants
    &-button {
      @include calendar-day-button();

      &-selected {
        @include calendar-day-button($selected: true);
      }

      &-highlighted {
        @include calendar-day-button($highlighted: true);
      }

      &-today {
        @include calendar-day-button($today: true);
      }

      &-disabled {
        @include calendar-day-button($disabled: true);
      }
    }
  }

  // Animation containers
  &-animation {
    &-container {
      @apply text-center text-sm;
    }

    &-header {
      @apply grid grid-cols-7 gap-1 text-center text-sm mb-1;
    }

    &-content {
      @apply relative overflow-hidden px-1 pb-1;
    }

    &-grid {
      @apply w-full;
    }
  }

  // Custom trigger wrapper
  &-custom-trigger {
    @apply focus:outline-hidden;
    outline: none;
  }
}
